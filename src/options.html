<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GPT-OTG Settings</title>
    <link rel="icon" href="icon.png" type="image/png" sizes="32x32" />
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <main class="options">
      <header class="options__header">
        <img class="options__logo" src="icon.png" alt="GPT-OTG" width="72" height="72" />
        <div>
          <h1 class="options__title">GPT-OTG Preferences</h1>
          <p class="options__subtitle">Tune the assistant, choose a model, and manage integrations.</p>
        </div>
      </header>

      <form id="settingsForm" class="options__form">
        <section class="card">
          <h2 class="card__title">AI Model</h2>
          <div class="field">
            <label class="field__label" for="model">Provider &amp; model</label>
            <select class="field__input" id="model" name="model">
              <optgroup label="OpenAI">
                <option value="openai-gpt-4o-mini">GPT-4o mini (fast, multimodal)</option>
                <option value="openai-gpt-4o">GPT-4o (best quality)</option>
              </optgroup>
              <optgroup label="Google Gemini">
                <option value="gemini-1.5-flash">Gemini 1.5 Flash (vision)</option>
                <option value="gemini-2.0-flash">Gemini 2.0 Flash Experimental</option>
              </optgroup>
              <optgroup label="Anthropic">
                <option value="anthropic-claude-3-5-sonnet">Claude 3.5 Sonnet</option>
              </optgroup>
              <optgroup label="DeepSeek">
                <option value="deepseek-chat">DeepSeek Chat</option>
                <option value="deepseek-reasoner">DeepSeek Reasoner</option>
              </optgroup>
              <optgroup label="Custom">
                <option value="custom-openai">Custom (OpenAI-compatible)</option>
              </optgroup>
            </select>
            <p class="field__hint" id="modelHint"></p>
          </div>

          <div class="field" id="keyFields">
            <div class="field hidden" data-provider-key="openai">
              <label class="field__label" for="openaiApiKey">OpenAI API key</label>
              <input
                class="field__input"
                type="password"
                id="openaiApiKey"
                name="openaiApiKey"
                placeholder="sk-..."
                autocomplete="off"
              />
              <p class="field__hint">Used for GPT-4o models.</p>
            </div>
            <div class="field hidden" data-provider-key="gemini">
              <label class="field__label" for="geminiApiKey">Gemini API key</label>
              <input
                class="field__input"
                type="password"
                id="geminiApiKey"
                name="geminiApiKey"
                placeholder="AIza..."
                autocomplete="off"
              />
              <p class="field__hint">Required to access Gemini 1.5 and 2.0 models.</p>
            </div>
            <div class="field hidden" data-provider-key="anthropic">
              <label class="field__label" for="anthropicApiKey">Anthropic API key</label>
              <input
                class="field__input"
                type="password"
                id="anthropicApiKey"
                name="anthropicApiKey"
                placeholder="anthropic-..."
                autocomplete="off"
              />
              <p class="field__hint">Used for Claude 3.5 Sonnet.</p>
            </div>
            <div class="field hidden" data-provider-key="deepseek">
              <label class="field__label" for="deepseekApiKey">DeepSeek API key</label>
              <input
                class="field__input"
                type="password"
                id="deepseekApiKey"
                name="deepseekApiKey"
                placeholder="sk-..."
                autocomplete="off"
              />
              <p class="field__hint">Used for DeepSeek Chat/Reasoner.</p>
            </div>
            <div class="field hidden" data-provider-key="custom">
              <label class="field__label" for="customApiUrl">Custom API URL</label>
              <input
                class="field__input"
                type="url"
                id="customApiUrl"
                name="customApiUrl"
                placeholder="http://localhost:11434/v1/chat/completions"
                autocomplete="off"
              />
              <p class="field__hint">
                Works with any OpenAI-compatible endpoint such as a local Ollama server.
              </p>
              <label class="field__label" for="customApiModel">Model identifier</label>
              <input
                class="field__input"
                type="text"
                id="customApiModel"
                name="customApiModel"
                placeholder="llama3.1"
                autocomplete="off"
              />
              <label class="field__label" for="customApiKey">API key (optional)</label>
              <input
                class="field__input"
                type="password"
                id="customApiKey"
                name="customApiKey"
                placeholder="Bearer token"
                autocomplete="off"
              />
              <label class="toggle toggle--field" for="customApiStreaming">
                <input class="toggle__input" type="checkbox" id="customApiStreaming" name="customApiStreaming" />
                <span class="toggle__label">Endpoint streams responses over SSE</span>
              </label>
            </div>
          </div>
        </section>

        <section class="card">
          <h2 class="card__title">Behavior</h2>
          <div class="field">
            <label class="field__label" for="tune">Tone preset</label>
            <select class="field__input" id="tune" name="tune">
              <option value="creative">Creative</option>
              <option value="balance">Balanced</option>
              <option value="precise">Precise</option>
            </select>
          </div>

          <div class="field">
            <label class="field__label" for="initialPrompt">System prompt</label>
            <textarea class="field__input field__input--textarea" id="initialPrompt" name="initialPrompt" rows="6"></textarea>
            <p class="field__hint">Customize how the assistant introduces itself and responds.</p>
          </div>
        </section>

        <section class="card">
          <h2 class="card__title">Shortcuts &amp; Integrations</h2>
          <label class="toggle">
            <input class="toggle__input" type="checkbox" id="aiCommand" name="aiCommand" />
            <span class="toggle__label">Enable /ai command</span>
          </label>

          <label class="toggle">
            <input class="toggle__input" type="checkbox" id="googleSearch" name="googleSearch" />
            <span class="toggle__label">Show Google search sidebar results</span>
          </label>

          <label class="toggle">
            <input class="toggle__input" type="checkbox" id="youtubeSummary" name="youtubeSummary" />
            <span class="toggle__label">Show YouTube summary button</span>
          </label>
        </section>

        <footer class="options__footer">
          <span class="options__status" id="statusMessage" role="status" aria-live="polite"></span>
          <div class="options__actions">
            <button class="btn btn--secondary" type="button" id="reset">Reset</button>
            <button class="btn" type="button" id="save">Save changes</button>
          </div>
        </footer>
      </form>
    </main>

    <script src="options.js"></script>
  </body>
</html>
