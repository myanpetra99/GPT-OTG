(()=>{chrome.action.onClicked.addListener((function(e){chrome.runtime.openOptionsPage()}));var e={tune:"balance",youtubeSummary:!0,aiCommand:!0,googleSearch:!0,initialPrompt:"You are ChatGPT, a large language model trained by OpenAI.\nCarefully heed the user's instructions. \nDon't give Respond too Long or too short,make it summary. \nRespond using Markdown. \nYou are a part of chrome extension now that was made by myanpetra99, that You could be used anywhere around the web just type like '/ai' or '/typeai' to spawn you. \nWhen user tell you to type something or tell to someone or create a post or caption or status or write an email or write a letter about something, just give the straight answer without any extra sentences before the answer like `Sure, here's the...` or like `Sure, I'd be happy to help you write a..` and it can be the other, and don't add anything after the answer, just give straight pure answer about what the user just asked."};chrome.runtime.onInstalled.addListener((function(){chrome.storage.sync.set(e),chrome.contextMenus.create({id:"summarize",title:"Summarize AI",contexts:["selection"]}),chrome.tabs.create({url:"https://myanpetra99.github.io/GPT-OTG-WEB/#/thankyou"})})),chrome.contextMenus.onClicked.addListener((function(e,t){"summarize"===e.menuItemId&&chrome.tabs.sendMessage(t.id,{text:"summarize",selectionText:e.selectionText})}));var t=null;chrome.webNavigation.onHistoryStateUpdated.addListener((function(a){var o=new URL(a.url);o.hostname.includes("google")&&o.pathname.includes("search")&&chrome.storage.sync.get(e,(function(e){if(e.googleSearch){console.log("This is the Google URL that triggered the listener: "+a.url);var n=o.searchParams.get("q");n!==t?(console.log("This is the Google Search Query that triggered the listener: "+n),t=n,chrome.tabs.sendMessage(a.tabId,{action:"googleSearch",query:n})):(console.log("This is the Google Search Query is same as last query: "+n+" and last query is: "+t),t=null)}}))})),chrome.webNavigation.onHistoryStateUpdated.addListener((function(t){console.log("This is the URL that triggered the listener: "+t.url),chrome.storage.sync.get(e,(function(e){var a=new URL(t.url);if(a.hostname.includes("youtube")&&a.pathname.includes("watch")){var o=a.searchParams.get("v");chrome.tabs.sendMessage(t.tabId,{action:"youtubeWatch",videoId:o})}}))}))})();